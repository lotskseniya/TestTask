<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Backpack Configurator</title>
    <link rel="stylesheet" href="/style.css" />
  </head>

  <body>
    <div id="container">
      <div>
        <button class="popup-btn" id="popupBtn">
          <img
            src="/assets/Vector.png"
            alt="3D View Icon"
            class="three-d-icon"
          />
          <span>See In Real Life</span>
        </button>
      </div>

      <div id="backpackCanvas"></div>

      <div id="controls">
        <div class="color-controls">
          <h3 class="configurator-menu-headers">Body Color</h3>
          <hr />
          <div class="container-buttons" id="colorControls">
            <button
              class="brown-btn round-button"
              onclick="changeColor('brown')"
              data-color="brown"
            ></button>
            <button
              class="black-btn round-button"
              onclick="changeColor('black')"
              data-color="black"
            ></button>
            <button
              class="blue-btn round-button"
              onclick="changeColor('blue')"
              data-color="blue"
            ></button>
          </div>
        </div>

        <div class="metal-controls">
          <h3 class="configurator-menu-headers">Metal Color</h3>
          <hr />
          <div class="container-buttons">
            <button
              class="silver-metal-btn round-button"
              onclick="changeMetal('silver')"
              data-metal="silver"
            ></button>
            <button
              class="gold-metal-btn round-button"
              onclick="changeMetal('gold')"
              data-metal="gold"
            ></button>
            <button
              class="black-metal-btn round-button"
              onclick="changeMetal('black')"
              data-metal="black"
            ></button>
          </div>
        </div>

        <div class="fabric-controls">
          <h3 class="configurator-menu-headers">Material</h3>
          <hr />
          <div class="container-buttons">
            <button
              class="leather-btn text-button"
              onclick="changeFabric('leather')"
              data-fabric="leather"
            >
              Leather
            </button>
            <button
              class="fabric-btn text-button"
              onclick="changeFabric('fabric')"
              data-fabric="fabric"
            >
              Fabric
            </button>
            <button
              class="text-button"
              onclick="changeFabric('denim')"
              data-fabric="denim"
            >
              Denim
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Popup Overlay -->
    <div class="popup-overlay" id="popupOverlay">
      <button id="closeBtn" onclick="hidePopup()">
        <img src="/assets/close-icon.png" alt="Close Icon" class="close-icon" />
      </button>
      <div class="popup-menu">
        <p class="popup-header">
          Scan the QR code with your phone. Within 1-3 seconds the AR function
          opens on your phone.
        </p>

        <div class="qr-code-container">
          <a href="#backpackModel" onclick="showARModule()">
            <img
              src="/assets/qr-code.png"
              alt="QR Code"
              class="qr-code-image"
            />
          </a>
        </div>
      </div>
    </div>

    <div>
      <model-viewer
        id="backpackModel"
        src="/public/backpack/backpack.glb"
        alt="A 3D model of a backpack"
        ar
        ar-modes="webxr scene-viewer quick-look"
        ar-scale="auto"
        camera-controls
        ios-src="/public/backpack/backpack.usdz"
        shadow-intensity="1"
        environment-image="neutral"
        exposure="1"
        shadow-softness="0.5"
        style="display: none;"
      >
         <a href="/" id="returnBtn" onclick="hideARModule()">
            <img src="/assets/back.png" alt="Return Button" class="return-icon" />
          </a>

    </model-viewer>
    </div>

    <script src="/configartorScript.js" type="module"></script>
    <script src="/qrPopUpScript.js"></script>
    <script
      type="module"
      src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"
    ></script>
  </body>
</html>
